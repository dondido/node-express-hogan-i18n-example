!function(a){var b=a(document),c=function(){b.off("submit","form",d)},d=function(b){var c,d=a(this),e="submit-fail",f=d.find("input, select, button, textarea");d.addClass("submit-pending"),c=a.ajax({type:"POST",data:d.serializeArray()}),c.done(function(a){e=a.emailstatus}),c.fail(function(a,b,c){console.error("The following error occured: "+b,c)}),c.always(function(){a("#reset-form").one("click",function(){d.removeClass(e),f.prop("disabled",!1)}),d.removeClass("submit-pending").addClass(e)}),f.prop("disabled",!0),b.preventDefault()};b.on("submit","form",d).one("dataPageRefresh",c)}(jQuery);